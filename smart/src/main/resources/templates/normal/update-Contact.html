<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" th:replace="~{normal/base::Layout(~{::section})}">

<head>
	<meta charset="UTF-8">
	<title>This is about page</title>

</head>

<body>

	<section class="mt-5">
		<div class="row mt-3 ">
			<div class="my-card col-md-6 offset-md-3">
				<h2 class="text-center font-colors">Update Your Contact</h2>


				<div class="container px-5">
					<form th:action="@{/user/process-update}" th:object="${contact}" enctype="multipart/form-data"
						method="post" class="mb-2">



						<div class="image-container text-center mb-3">
							<img th:src="@{'/img/'+${contact.Cimage}}" alt="Contact Image"
								class="img-thumbnail contact-image" style="max-width: 150px; max-height: 150px;">
							<div class="change-image-overlay">
								<label for="Inputimage" class="change-image-icon">
									<i class="fa-solid fa-camera"></i> Change Image
								</label>
								<input type="file" name="file" id="Inputimage" class="file-input">
								<span id="file-name" class="file-name"></span>
							</div>
						</div>

						<!-- Image Preview Modal -->


						<div class="modal fade" id="imagePreviewModal" tabindex="-1"
							aria-labelledby="imagePreviewModalLabel" aria-hidden="true">
							<div class="modal-dialog modal-dialog-centered modal-md">
								<div class="modal-content">
									<div class="modal-header">
										<h5 class="modal-title font-colors" id="imagePreviewModalLabel">Image Preview
										</h5>
										<button type="button" class="btn text-danger mr-auto fs-3"
											data-bs-dismiss="modal">X</button>
									</div>
									<div class="modal-body">
										<img th:src="@{'/img/'+${contact.Cimage}}" alt="Preview Image" class="img-fluid"
											id="previewImage">
									</div>
								</div>
							</div>
						</div>

						<!-- Contact ID Hidden Field -->
						<input type="hidden" th:field="*{Cid}">

						<div class="input-group mt-3">
							<span class="input-group-text"><i class="fa-solid fa-user-plus font-colors"></i></span>
							<input th:field="*{Cname}" type="text" class="form-control custom-placeholder2"
								id="InputName" placeholder="Enter Name" required>
						</div>

						<div class="input-group mt-3">
							<span class="input-group-text"><i class="fa-solid fa-user-alt font-colors"></i></span>
							<input th:field="*{secondName}" type="text" class="form-control custom-placeholder2"
								id="InputNick" placeholder="Enter Nick Name">
						</div>

						<div class="input-group mt-3">
							<span class="input-group-text"><i class="fa-solid fa-phone-flip font-colors"></i></span>
							<input th:field="*{phone}" type="number" class="form-control custom-placeholder2"
								id="InputNumber" placeholder="Enter Contact number" required>
						</div>

						<div class="input-group mt-3">
							<span class="input-group-text"><i class="fa-solid fa-envelope font-colors"></i></span>
							<input th:field="*{Cemail}" type="email" class="form-control custom-placeholder2"
								id="InputEmail1" aria-describedby="emailHelp" placeholder="Enter Contact email">
						</div>

						<div class="input-group mt-3">
							<span class="input-group-text"><i class="fa-solid fa-user-tie font-colors"></i></span>
							<input th:field="*{work}" type="text" class="form-control custom-placeholder2"
								id="Inputwork" placeholder="Enter Contact profession">
						</div>

						<div class="form-group mt-3">
							<textarea th:field="*{decription}" class="form-control custom-placeholder2" rows="8"
								id="mytextarea" placeholder="Enter Contact Description"></textarea>
						</div>


						<div class="text-center d-grid mt-3">
							<button type="submit" class="btn bg-primary-made btn-md text-light">Update Now</button>
						</div>
					</form>

				</div>

			</div>

			<!-- tiny MCE editor js -->
			<!-- Place the first <script> tag in your HTML's <head> -->
			<script
				src="https://cdn.tiny.cloud/1/8n7ki4e177oq1m0kuhon8k0lxj4ay4305nohfj4tubzllcfp/tinymce/7/tinymce.min.js"
				referrerpolicy="origin"></script>

			<!-- Place the following <script> and <textarea> tags your HTML's <body> -->
			<script>
				tinymce.init({
					selector: 'textarea',
					plugins: 'anchor autolink charmap codesample emoticons image link lists media searchreplace table visualblocks wordcount checklist mediaembed casechange export formatpainter pageembed linkchecker a11ychecker tinymcespellchecker permanentpen powerpaste advtable advcode editimage advtemplate ai mentions tinycomments tableofcontents footnotes mergetags autocorrect typography inlinecss markdown',
					toolbar: 'undo redo | blocks fontfamily fontsize | bold italic underline strikethrough | link image media table mergetags | addcomment showcomments | spellcheckdialog a11ycheck typography | align lineheight | checklist numlist bullist indent outdent | emoticons charmap | removeformat',
					tinycomments_mode: 'embedded',
					tinycomments_author: 'Author name',
					mergetags_list: [
						{value: 'First.Name', title: 'First Name'},
						{value: 'Email', title: 'Email'},
					],
					ai_request: (request, respondWith) => respondWith.string(() => Promise.reject("See docs to implement AI Assistant")),
				});
			</script>

	</section>
</body>

</html>